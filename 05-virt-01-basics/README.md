
# Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Важно!

Перед отправкой работы на проверку удаляйте неиспользуемые ресурсы.
Это важно для того, чтоб предупредить неконтролируемый расход средств, полученных в результате использования промокода.

Подробные рекомендации [здесь](https://github.com/netology-code/virt-homeworks/blob/virt-11/r/README.md)

---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

---
**Решение**

|                       | Полная (аппаратная)                                                    | Паравиртуализация                 | На основе ОС             |
|-----------------------|------------------------------------------------------------------------|-----------------------------------|--------------------------|
| Уровень гипервизора   | Гипервизор сам является ОС и запускается на корневом уровне процессора | ПО, работающее поверх хостовой ОС | ПО, использующее ядро ОС |
| Выделение ресурсов    | Прямой доступ к ресурсам                                               | С использованием хостовой ОС      | Разделяемые с ядром ОС   |
| Поддержка гостевых ОС | ОС поддерживаемые процессором                                          | Любая ОС                          | Та же, что и хостовая    |

---

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

---
**Решение**

_Высоконагруженная база данных, чувствительная к отказу._

Я бы использовал виртуализацию уровня ОС для того, чтобы была возможность быстрого восстановления в случае сбоя, 
потому что есть приложение можно перенести на другой сервер в кластере, либо мигрировать базу данных в другое место.

_Различные web-приложения._

Поскольку веб-приложения зачастую строятся на базе Linux, а также предполагают зависимости 
в случае использования различного ПО и фреймворков, идеально подойдёт виртуализация на уровне ОС.
Она позволит разделить окружение и обеспечить независимую работу с каждым приложением.

_Windows системы для использования бухгалтерским отделом._

Наиболее гибким решением является паравиртуализация, так как можно использовать сервер на базе Linux
и предоставлять доступ к виртуальным машинам оптимальным образом.

_Системы, выполняющие высокопроизводительные расчеты на GPU._

В этом случае идеально подойдёт физический сервер, ресурсы которого чётко определены и не разделяются с другими.
Несколько таких серверов могут быть объединены в единый вычислительный узел с помощью специального ПО.

---

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

---
**Решение**

_100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий._

В этом случае стоит выбрать продукт VMWare, потому что VSphere предлагает решение для кластеризации, а сам гипервизор
ESXi нативно поддерживает планирование ресурсов и распределённую файловую систему. Кроме этого, нет ограничений по
выбору гостевых ОС.

_Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин._

Для данного сценария идеально подойдёт Xen, потому что обеспечивает большую стабильность, чем Xen и является
кроссплатформенным гипервизором, поэтому может быть запущен как в Windows, так и Linux среде.

_Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры._

Для Windows инфраструктуры лучшим решением является продукт, поставляемый производителем самой ОС и встроенной в неё,
а именно Microsoft Hyper-V. Поскольку Hyper-V заточен для работы с Windows, он определённо будет обеспечивать наилучшую
производительность.

_Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux._

В этом сценарии можно использовать KVM, потому что он нативен для большинства ядер Linux, бесплатен и прост в использовании.

---

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

---
**Решение**

Главной проблемой гетерогенной среды виртуализации является рассредоточенность контроля, нет единой точки управления.
По сути это приводит к дублированию документации и, возможно, действий, которые должен выполнять администратор этой среды.
Отсутствует универсальный механизм синхронизации, а организация собственного приводит к издержкам.
Для поддержки среды могут понадобиться разные специалисты.

Для минимизации этих проблем необходимо вести актуальную документацию и грамотно описывать инфраструктуру.
Ещё одним вариантом является разделение одной гетерогенной среды на отдельные гомогенные среды, где каждая среда
представляет собственную зону ответственности. В таком случае их проще поддерживать и управлять ими по-необходимости.

Я бы не стал организовывать гетерогенную среду без необходимости. Абсолютно нормально, что требования могут меняться со
временем, но если есть необходимость ввести новую среду, то возможно стоит задуматься над возможностью
переноса текущей инфраструктуры на новую платформу.

---
